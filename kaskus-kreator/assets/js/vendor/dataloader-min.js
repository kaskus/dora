AmCharts.translations.dataLoader={},AmCharts.addInitHandler(function(t){function e(r,o,n,i){void 0===i&&(i="dataProvider"),n.showCurtain&&d(void 0,n.noStyles),p.remaining++,p.percentLoaded[r]=0,void 0!==n.progress&&"function"==typeof n.progress&&void 0===n._progress&&(n._progress=n.progress,n.progress=function(t){p.percentLoaded[r]=t;var e=0,a=0;for(var o in p.percentLoaded)p.percentLoaded.hasOwnProperty(o)&&(a++,e+=p.percentLoaded[o]);var i=Math.round(e/a*100)/100;n._progress.call(this,i,Math.round(100*t)/100,r)}),AmCharts.loadFile(r,n,function(d){if(!1===d)u(n.error,n,t),s(AmCharts.__("Error loading the file",t.language)+": "+r,!1,n);else{switch(void 0===n.format&&(n.format="json"),n.format=n.format.toLowerCase(),n.format){case"json":if(o[i]=AmCharts.parseJSON(d),!1===o[i])return u(n.error,n,t),s(AmCharts.__("Error parsing JSON file",t.language)+": "+p.url,!1,n),void(o[i]=[]);o[i]=a(o[i],n),u(n.load,n,t);break;case"csv":if(o[i]=AmCharts.parseCSV(d,n),!1===o[i])return u(n.error,n,t),s(AmCharts.__("Error parsing CSV file",t.language)+": "+p.url,!1,n),void(o[i]=[]);o[i]=a(o[i],n),u(n.load,n,t);break;default:return u(n.error,n,t),void s(AmCharts.__("Unsupported data format",t.language)+": "+n.format,!1,n.noStyles)}if(0===--p.remaining&&(u(n.complete,t),n.async))if("map"===t.type)t.validateNow(!0),l();else if("gauge"!==t.type&&t.addListener("dataUpdated",function(e){"stock"!==t.type||n.reloading||void 0===t.periodSelector||t.periodSelector.setDefaultPeriod(),l(),t.events.dataUpdated.pop()}),"gauge"===t.type?(l(),t.validateNow()):t.validateData(),p.startDuration)if("stock"===t.type){t.panelsSettings.startDuration=p.startDuration;for(var c=0;c<t.panels.length;c++)t.panels[c].startDuration=p.startDuration,t.panels[c].animateAgain()}else t.startDuration=p.startDuration,void 0!==t.animateAgain&&t.animateAgain()}n.reload&&(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(e,1e3*n.reload,r,o,n,i),n.reloading=!0)})}function a(e,a){if(void 0===a.postProcess||!o(a.postProcess))return e;try{return a.postProcess.call(p,e,a,t)}catch(r){return s(AmCharts.__("Error loading file",t.language)+": "+a.url,!1,a),e}}function r(t){return"object"==typeof t}function o(t){return"function"==typeof t}function n(t){for(var e in v)v.hasOwnProperty(e)&&i(t,e,v[e])}function i(t,e,a){void 0===t[e]&&(t[e]=a)}function s(t,e,a){a.showErrors?d(t,a.noStyles):(l(),console.log(t))}function d(e,a){l(),void 0===e&&(e=AmCharts.__("Loading data...",t.language));var r=document.createElement("div");if(r.setAttribute("id",t.div.id+"-curtain"),r.className="amcharts-dataloader-curtain",!0!==a){r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width=(void 0!==t.realWidth?t.realWidth:t.divRealWidth)+"px",r.style.height=(void 0!==t.realHeight?t.realHeight:t.divRealHeight)+"px",r.style.textAlign="center",r.style.display="table",r.style.fontSize="20px";try{r.style.background="rgba(255, 255, 255, 0.3)"}catch(t){r.style.background="rgb(255, 255, 255)"}r.innerHTML='<div style="display: table-cell; vertical-align: middle;">'+e+"</div>"}else r.innerHTML=e;t.containerDiv.appendChild(r),p.curtain=r}function l(){try{void 0!==p.curtain&&t.containerDiv.removeChild(p.curtain)}catch(t){}p.curtain=void 0}function u(t,e,a,r){"function"==typeof t&&t.call(p,e,a,r)}void 0!==t.dataLoader&&r(t.dataLoader)||(t.dataLoader={});var c=t.version.split(".");if(!(Number(c[0])<3||3===Number(c[0])&&Number(c[1])<13)){var p=t.dataLoader;p.remaining=0,p.percentLoaded={};var v={async:!0,format:"json",showErrors:!0,showCurtain:!0,noStyles:!1,reload:0,timestamp:!1,delimiter:",",skip:0,skipEmpty:!0,emptyAs:void 0,useColumnNames:!1,init:!1,progress:!1,reverse:!1,reloading:!1,complete:!1,error:!1,numberFields:[],headers:[],chart:t};p.loadData=function(){if("stock"===t.type)setTimeout(function(){0>t.panelsSettings.startDuration&&(p.startDuration=t.panelsSettings.startDuration,t.panelsSettings.startDuration=0);for(var a=0;a<t.dataSets.length;a++){var r=t.dataSets[a];void 0!==r.dataLoader&&void 0!==r.dataLoader.url&&(u(r.dataLoader.init,r.dataLoader,t),r.dataProvider=[],n(r.dataLoader),e(r.dataLoader.url,r,r.dataLoader,"dataProvider")),void 0!==r.eventDataLoader&&void 0!==r.eventDataLoader.url&&(u(r.eventDataLoader.init,r.eventDataLoader,t),r.events=[],n(r.eventDataLoader),e(r.eventDataLoader.url,r,r.eventDataLoader,"stockEvents"))}},100);else{if(u(p.init,p,t),n(p),void 0===p.url)return;void 0!==t.startDuration&&0<t.startDuration&&(p.startDuration=t.startDuration,t.startDuration=0),"gauge"===t.type?(void 0===t.arrows&&(t.arrows=[]),e(p.url,t,p,"arrows")):(void 0===t.dataProvider&&(t.dataProvider="map"===t.type?{}:[]),e(p.url,t,p,"dataProvider"))}},p.loadData()}},["pie","serial","xy","funnel","radar","gauge","gantt","stock","map"]),void 0===AmCharts.__&&(AmCharts.__=function(t,e){return void 0!==e&&void 0!==AmCharts.translations.dataLoader[e]&&void 0!==AmCharts.translations.dataLoader[e][t]?AmCharts.translations.dataLoader[e][t]:t}),AmCharts.loadFile=function(t,e,a){"object"!=typeof e&&(e={}),void 0===e.async&&(e.async=!0);var r;r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{r.open("GET",e.timestamp?AmCharts.timestampUrl(t):t,e.async)}catch(t){a.call(this,!1)}if(void 0!==e.headers&&e.headers.length)for(var o=0;o<e.headers.length;o++){var n=e.headers[o];r.setRequestHeader(n.key,n.value)}void 0!==e.progress&&"function"==typeof e.progress&&(r.onprogress=function(t){var a=t.loaded/t.total*100;e.progress.call(this,a)}),r.onreadystatechange=function(){4!==r.readyState||404!==r.status&&500!==r.status?4===r.readyState&&200===r.status&&a.call(this,r.responseText):a.call(this,!1)};try{r.send()}catch(t){a.call(this,!1)}},AmCharts.parseJSON=function(response){try{return void 0!==JSON?JSON.parse(response):eval(response)}catch(t){return!1}},AmCharts.parseCSV=function(t,e){var a=AmCharts.CSVToArray(t,e.delimiter),r=e.numberFields&&e.numberFields.length>0,o=[],n=[],i,s;if(e.useColumnNames){n=a.shift();for(var d=0;d<n.length;d++)i=n[d].replace(/^\s+|\s+$/gm,""),""===i&&(i="col"+d),n[d]=i;0<e.skip&&e.skip--}for(s=0;s<e.skip;s++)a.shift();for(var l;l=e.reverse?a.pop():a.shift();)if(!e.skipEmpty||1!==l.length||""!==l[0]){var u={};for(s=0;s<l.length;s++)i=void 0===n[s]?"col"+s:n[s],u[i]=""===l[s]?e.emptyAs:l[s],r&&-1!==e.numberFields.indexOf(i)&&(u[i]=Number(u[i]));o.push(u)}return o},AmCharts.CSVToArray=function(t,e){e=e||",";for(var a=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),r=[[]],o=null;o=a.exec(t);){var n=o[1];n.length&&n!==e&&r.push([]);var i;i=o[2]?o[2].replace(new RegExp('""',"g"),'"'):o[3],r[r.length-1].push(i)}return r},AmCharts.timestampUrl=function(t){var e=t.split("?");return 1===e.length?e[1]=(new Date).getTime():e[1]+="&"+(new Date).getTime(),e.join("?")};