function renderPodcastList(e){var i="../data/"+e+".json";$.getJSON(i,function(e){episodes=e.program.episode,colorTheme=e.program.colorTheme,$(".jsPlayImage, .jsPopupImage").attr("src",e.program.imageAlbum),$(".jsPlayHeaderTitle").text(e.program.title),$(".jsPlayAuthor").text(e.program.title),$.each(episodes,function(e,i){$(".jsPlayList").append("<div class='fl w-100 pa2 jsPlayItem'><a class='link black jsPlayLink flex items-center' data-id='"+e+"'><div class='fl mr2'><div style='width:65px; height:65px;'><div class='c100 p0 jsPlayCircle'><span class='vagRoundedBold'>"+e+"</span><div class='slice'><div class='bar'></div><div class='fill'></div></div></div></div></div><div class='flex-auto'><div class='jsPlayTitle f5 line-clamp'>"+i.title+"</div><div class='f6 truncate mt1'><span>"+i.duration+" â–ª "+i.date+"</span></div></div></a><div style='display:none;' class='mt3 jsPlayDescription'>"+i.description+"</div></div>")}),initPodcastList()})}function initPodcastList(){function e(){var e=currentPlayElement.parent().prev();if(e.find(".jsPlayLink").attr("data-id")){dataId=e.find(".jsPlayLink").attr("data-id");sendEventTracking("radio","previous track",audioTitle,0,audioCurrentTime-newStartTime,audioPercentageFinished),s("stop");var i=e.find(".jsPlayLink").attr("data-id");audioCurrentTime=0,currentPlayElement=e.find(".jsPlayLink"),episode=episodes[i],audioTitle=episode.title,r.live=episode.stream,r.load([{type:episode.type,src:episode.src}]),a(e.find(".jsPlayLink"),!1,!1),s("start"),sendEventTracking("radio","initial play",audioTitle,0,0,0)}}function i(){var e=currentPlayElement.parent().next();if(e.find(".jsPlayLink").attr("data-id")){dataId=e.find(".jsPlayLink").attr("data-id");sendEventTracking("radio","next track",audioTitle,0,audioCurrentTime-newStartTime,audioPercentageFinished),s("stop");var i=e.find(".jsPlayLink").attr("data-id");audioCurrentTime=0,currentPlayElement=e.find(".jsPlayLink"),episode=episodes[i],audioTitle=episode.title,r.live=episode.stream,r.load([{type:episode.type,src:episode.src}]),a(e.find(".jsPlayLink"),!1,!1),s("start"),sendEventTracking("radio","initial play",audioTitle,0,0,0)}}function a(e,i,a){$(".jsPlayCircle").removeClass("is-active"),$(e).find(".jsPlayCircle").addClass("is-active"),$(".jsPlayerTitle, .jsPopupTitle").text(episodes[dataId].title),$(".jsPopupDescription").text(episodes[dataId].description),$(".jsPlayDescription").slideUp(),$(e).next().slideDown(),i?($(".jsPlayTitle").css("color","rgb("+d[0]+","+d[1]+","+d[2]),$(".jsPlayer, .jsProgress").removeClass("is-hide"),$(e).find(".jsPlayTitle").css("color","rgb("+n[0]+","+n[1]+","+n[2]),$(".jsPopupArea, .jsPopupToolbar, .jsPlayerIndicator").css("background-color","rgb("+n[0]+","+n[1]+","+n[2]),$(".jsPlayButton").find("i").addClass("fa-pause-circle"),$(".jsPlayButton").find("i").removeClass("fa-play-circle"),$(".jsProgressBar").css("width","0%")):($(".jsPlayTitle").css("color","rgb("+d[0]+","+d[1]+","+d[2]),$(e).find(".jsPlayTitle").css("color","rgb("+n[0]+","+n[1]+","+n[2]),a?($(".jsPlayButton").find("i").addClass("fa-pause-circle"),$(".jsPlayButton").find("i").removeClass("fa-play-circle")):($(".jsProgressBar").css("width","0%"),$(".jsPlayCircle .bar").css("transform","rotate(0deg)"),$(".jsPlayCircle").removeClass("halfmore")))}function t(){audioCurrentTime=Math.round(r.video.time),audioPercentageFinished=r.video.time/r.video.duration*100;var e=r.video.time/r.video.duration*100,a=3.6*e,t=formatTime(audioCurrentTime);if($("[data-id="+dataId+"]").find(".jsPlayCircle .bar").css("transform","rotate("+a+"deg)"),e>50?$("[data-id="+dataId+"]").find(".jsPlayCircle").addClass("halfmore"):$("[data-id="+dataId+"]").find(".jsPlayCircle").removeClass("halfmore"),$(".c-player__progress__scale").find(".jsProgressBar").css("width",e+"%"),$(".jsPlayerIndicator").css("width",e+"%"),$(".c-progress__time--current").html(t),$(".c-progress__time--duration").html(formatTime(Math.round(r.video.duration))),audioPercentageFinished=Math.round(audioPercentageFinished),1==r.finished){sendEventTracking("radio","next track",audioTitle,0,audioCurrentTime-newStartTime,audioPercentageFinished),i(),sendEventTracking("radio","initial play",audioTitle,0,0,0)}}function s(e){"start"==e&&(timeInterval=setInterval(t,100)),"stop"==e&&clearInterval(timeInterval)}var r=flowplayer("#hidden-player",{live:!1,splash:!0,audioOnly:!0,clip:{sources:[]}}),n=colorTheme,d=[0,0,0];$(".jsPlayHeader").length>0&&$(".jsPlayHeader").css("background-color","rgb("+n[0]+","+n[1]+","+n[2]),$(".jsPlayButton").click(function(){0==r.playing?($(".jsPlayer, .jsProgress").removeClass("is-hide"),$(".jsPlayButton").addClass("is-playing"),$(".jsPlayButton").find("i").addClass("fa-pause-circle"),$(".jsPlayButton").find("i").removeClass("fa-play-circle"),r.play(),s("start"),sendEventTracking("radio","play",audioTitle,0,audioCurrentTime,audioPercentageFinished)):($(".jsPlayButton").removeClass("is-playing"),$(".jsPlayButton").find("i").addClass("fa-play-circle"),$(".jsPlayButton").find("i").removeClass("fa-pause-circle"),r.pause(),s("stop"),sendEventTracking("radio","pause",audioTitle,0,audioCurrentTime,audioPercentageFinished))}),$(".jsPlayLink").click(function(){var e=$(this).attr("data-id");if(currentPlayElement=$(this),e!=dataId)dataId=e,0==r.playing?a(this,!0,!1):(s("stop"),a(this,!1,!1)),audioCurrentTime=0,episode=episodes[e],audioTitle=episode.title,r.live=episode.stream,r.load([{type:episode.type,src:episode.src}]),sendEventTracking("radio","initial play",audioTitle,0,0,0),s("start");else if(0==r.playing)newStartTime=audioCurrentTime,r.play(),s("start"),a(this,!1,!0),sendEventTracking("radio","play",audioTitle,0,audioCurrentTime,audioPercentageFinished);else{var i=audioCurrentTime-newStartTime;r.pause(),s("stop"),sendEventTracking("radio","pause",audioTitle,0,i,audioPercentageFinished),$(".jsPlayTitle").css("color","rgb("+d[0]+","+d[1]+","+d[2]),$(".jsPlayDescription").slideUp(),$(".jsPlayCircle").removeClass("is-active"),$(".jsPlayButton").find("i").addClass("fa-play-circle"),$(".jsPlayButton").find("i").removeClass("fa-pause-circle")}}),$(".c-player__progress__scale").click(function(e){var i=$(".c-player__progress__scale").width(),a=e.pageX-this.offsetLeft;a=a/i*100;var s=r.video.duration/100*a;r.seek(s,t)}),$(".jsSkipForwardButton").click(function(){sendEventTracking("radio","forward 15",audioTitle,0,audioCurrentTime,audioPercentageFinished);var e=audioCurrentTime+15;e>r.video.duration?r.seek(Math.round(r.video.duration)-1,t):r.seek(e,t)}),$(".jsSkipPreviousButton").click(function(){sendEventTracking("radio","backward 15",audioTitle,0,audioCurrentTime,audioPercentageFinished);var e=audioCurrentTime-15;e<0?r.seek(0,t):r.seek(e,t)}),$(".jsPrevButton").click(function(){e()}),$(".jsNextButton").click(function(){i()}),$(".jsPopupShowButton").click(function(){$("body").addClass("o-hidden"),$(".jsPopupArea").addClass("is-show"),$(".jsPopupToolbar").show()}),$(".jsPopupCloseButton").click(function(){$("body").removeClass("o-hidden"),$(".jsPopupArea").removeClass("is-show"),$(".jsPopupToolbar").hide()}),$(".jsPopupArea").css("transform","translateY("+$(window).height()+"px)"),$(window).scroll(function(){$(window).scrollTop()>0?$(".jsNav").addClass("shadow-2"):$(".jsNav").removeClass("shadow-2")})}function sendEventTracking(e,i,a,t,s,r){var n=["pause","next track","previous track","close tab"];if(audioCurrentTime>=minimumDuration||"initial play"==i){var d={event:"trackEvent","eventDetails.category":e,"eventDetails.action":i,"eventDetails.label":a,"eventDetails.value":audioCurrentTime,userID:t};n.includes(i)&&(d.durationPlayed=s,d.audioTitle=a,"pause"!=i&&(d.percentageFinished=r)),dataLayer.push(d)}}function formatTime(e){var i=Math.floor(e/60)||0,a=e-60*i||0;return i+":"+(a<10?"0":"")+a}function getCookie(e){for(var i=e+"=",a=decodeURIComponent(document.cookie),t=a.split(";"),s=0;s<t.length;s++){for(var r=t[s];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(i))return r.substring(i.length,r.length)}return""}var minimumDuration=5,audioCurrentTime=0,audioPercentageFinished=0,audioTitle="",dataId=0,episodes,colorTheme,currentPlayElement,newStartTime=0,timeInterval;window.dataLayer=window.dataLayer||[],$(document).ready(function(){var e=new Pjax({elements:".jsLink",selectors:[".jsSectionContent"]});topbar.config({barColors:{1:"rgba(56,  130, 193, 1)"}}),$(".jsPopupArea").css("transform","translateY("+$(window).height()+"px)"),document.addEventListener("pjax:send",topbar.show),document.addEventListener("pjax:complete",topbar.hide)}),window.addEventListener("beforeunload",function(e){sendEventTracking("radio","close tab",audioTitle,0,audioCurrentTime-newStartTime,audioPercentageFinished)});