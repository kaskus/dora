(function(e,n){"use strict";!function(){for(var n=0,t=["ms","moz","webkit","o"],o=0;o<t.length&&!e.requestAnimationFrame;++o)e.requestAnimationFrame=e[t[o]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[t[o]+"CancelAnimationFrame"]||e[t[o]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(t,o){var a=(new Date).getTime(),i=Math.max(0,16-(a-n)),r=e.setTimeout(function(){t(a+i)},i);return n=a+i,r}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}();var t,o,a,i,r,s=function(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t},c={autoRun:!0,barThickness:3,barColors:{0:"rgba(26,  188, 156, .9)",".25":"rgba(52,  152, 219, .9)",".50":"rgba(241, 196, 15,  .9)",".75":"rgba(230, 126, 34,  .9)","1.0":"rgba(211, 84,  0,   .9)"},shadowBlur:10,shadowColor:"rgba(0,   0,   0,   .6)"},l=function(){t.width=e.innerWidth,t.height=5*c.barThickness;var n=t.getContext("2d");n.shadowBlur=c.shadowBlur,n.shadowColor=c.shadowColor;var o=n.createLinearGradient(0,0,t.width,0);for(var a in c.barColors)o.addColorStop(a,c.barColors[a]);n.lineWidth=c.barThickness,n.beginPath(),n.moveTo(0,c.barThickness/2),n.lineTo(Math.ceil(i*t.width),c.barThickness/2),n.strokeStyle=o,n.stroke()},u=function(){t=n.createElement("canvas");var o=t.style;o.position="fixed",o.top=o.left=o.right=o.margin=o.padding=0,o.zIndex=100001,o.display="none",n.body.appendChild(t),s(e,"resize",l)},d={config:function(e){for(var n in e)c.hasOwnProperty(n)&&(c[n]=e[n])},show:function(){r||(r=!0,null!==a&&e.cancelAnimationFrame(a),t||u(),t.style.opacity=1,t.style.display="block",d.progress(0),c.autoRun&&function n(){o=e.requestAnimationFrame(n),d.progress("+"+.05*Math.pow(1-Math.sqrt(i),2))}())},progress:function(e){return void 0===e?i:("string"==typeof e&&(e=(e.indexOf("+")>=0||e.indexOf("-")>=0?i:0)+parseFloat(e)),i=e>1?1:e,l(),i)},hide:function(){r&&(r=!1,null!=o&&(e.cancelAnimationFrame(o),o=null),function n(){if(d.progress("+.1")>=1&&(t.style.opacity-=.05,t.style.opacity<=.05))return t.style.display="none",void(a=null);a=e.requestAnimationFrame(n)}())}};"object"==typeof module&&"object"==typeof module.exports?module.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):this.topbar=d}).call(this,window,document);