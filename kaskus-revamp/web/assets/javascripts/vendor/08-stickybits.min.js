/**
  stickybits - Stickybits is a lightweight alternative to `position: sticky` polyfills
  @version v3.5.3
  @link https://github.com/dollarshaveclub/stickybits#readme
  @author Jeff Wainwright <yowainwright@gmail.com> (https://jeffry.in)
  @license MIT
**/
!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?s():"function"==typeof define&&define.amd?define(s):s()}(this,function(){"use strict";function t(t,e){return new s(t,e)}var s=function(){function t(t,s){var e=void 0!==s?s:{};this.version="3.5.3",this.userAgent=window.navigator.userAgent||"no `userAgent` provided by the browser",this.props={customStickyChangeNumber:e.customStickyChangeNumber||null,noStyles:e.noStyles||!1,stickyBitStickyOffset:e.stickyBitStickyOffset||0,parentClass:e.parentClass||"js-stickybit-parent",scrollEl:"string"==typeof e.scrollEl?document.querySelector(e.scrollEl):e.scrollEl||window,stickyClass:e.stickyClass||"js-is-sticky",stuckClass:e.stuckClass||"js-is-stuck",stickyChangeClass:e.stickyChangeClass||"js-is-sticky--change",useStickyClasses:e.useStickyClasses||!1,useFixed:e.useFixed||!1,useGetBoundingClientRect:e.useGetBoundingClientRect||!1,verticalPosition:e.verticalPosition||"top"};var i=this.props;i.positionVal=this.definePosition()||"fixed";var n=i.verticalPosition,o=i.noStyles,r=i.positionVal;this.els="string"==typeof t?document.querySelectorAll(t):t,"length"in this.els||(this.els=[this.els]),this.instances=[];for(var a=0;a<this.els.length;a+=1){var l=this.els[a],c=l.style;if(c[n]="top"!==n||o?"":i.stickyBitStickyOffset+"px",c.position="fixed"!==r?r:"","fixed"===r||i.useStickyClasses){var f=this.addInstance(l,i);this.instances.push(f)}}return this}var s=t.prototype;return s.definePosition=function t(){var s;if(this.props.useFixed)s="fixed";else{for(var e=["","-o-","-webkit-","-moz-","-ms-"],i=document.head.style,n=0;n<e.length;n+=1)i.position=e[n]+"sticky";s=i.position?i.position:"fixed",i.position=""}return s},s.addInstance=function t(s,e){var i=this,n={el:s,parent:s.parentNode,props:e};this.isWin=this.props.scrollEl===window;var o=this.isWin?window:this.getClosestParent(n.el,n.props.scrollEl);return this.computeScrollOffsets(n),n.parent.className+=" "+e.parentClass,n.state="default",n.stateContainer=function(){return i.manageState(n)},o.addEventListener("scroll",n.stateContainer),n},s.getClosestParent=function t(s,e){var i=e,n=s;if(n.parentElement===i)return i;for(;n.parentElement!==i;)n=n.parentElement;return i},s.getTopPosition=function t(s){if(this.props.useGetBoundingClientRect)return s.getBoundingClientRect().top+(this.props.scrollEl.pageYOffset||document.documentElement.scrollTop);var e=0;do{e=s.offsetTop+e}while(s=s.offsetParent);return e},s.computeScrollOffsets=function t(s){var e=s,i=e.props,n=e.el,o=e.parent,r=!this.isWin&&"fixed"===i.positionVal,a="bottom"!==i.verticalPosition,l=r?this.getTopPosition(i.scrollEl):0,c=r?this.getTopPosition(o)-l:this.getTopPosition(o),f=null!==i.customStickyChangeNumber?i.customStickyChangeNumber:n.offsetHeight;return e.offset=l+i.stickyBitStickyOffset,e.stickyStart=a?c-e.offset:0,e.stickyChange=e.stickyStart+f,e.stickyStop=a?c+o.offsetHeight-(e.el.offsetHeight+e.offset):c+o.offsetHeight,e},s.toggleClasses=function t(s,e,i){var n=s,o=n.className.split(" ");i&&-1===o.indexOf(i)&&o.push(i);var r=o.indexOf(e);-1!==r&&o.splice(r,1),n.className=o.join(" ")},s.manageState=function t(s){var e=s,i=e.el,n=e.props,o=e.state,r=e.stickyStart,a=e.stickyChange,l=e.stickyStop,c=i.style,f=n.noStyles,u=n.positionVal,p=n.scrollEl,h=n.stickyClass,d=n.stickyChangeClass,y=n.stuckClass,k=n.verticalPosition,g=function t(s){s()},m=this.isWin?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||g:g,v=this.toggleClasses,C=this.isWin?window.scrollY||window.pageYOffset:p.scrollTop,w=C>r&&C<l&&("default"===o||"stuck"===o),S=C<=r&&"sticky"===o,b=C>=l&&"sticky"===o;w?(e.state="sticky",m(function(){v(i,y,h),c.position=u,f||(c.bottom="",c[k]=n.stickyBitStickyOffset+"px")})):S?(e.state="default",m(function(){v(i,h),"fixed"===u&&(c.position="")})):b&&(e.state="stuck",m(function(){v(i,h,y),"fixed"!==u||f||(c.top="",c.bottom="0",c.position="absolute")}));var x=C>=a&&C<=l;return C<a||C>l?m(function(){v(i,d)}):x&&m(function(){v(i,"stub",d)}),e},s.update=function t(){for(var s=0;s<this.instances.length;s+=1){var e=this.instances[s];this.computeScrollOffsets(e)}return this},s.removeInstance=function t(s){var e=s.el,i=s.props,n=this.toggleClasses;e.style.position="",e.style[i.verticalPosition]="",n(e,i.stickyClass),n(e,i.stuckClass),n(e.parentNode,i.parentClass)},s.cleanup=function t(){for(var s=0;s<this.instances.length;s+=1){var e=this.instances[s];e.props.scrollEl.removeEventListener("scroll",e.stateContainer),this.removeInstance(e)}this.manageState=!1,this.instances=[]},t}();if("undefined"!=typeof window){var e=window.$||window.jQuery||window.Zepto;e&&(e.fn.stickybits=function s(e){return t(this,e)})}});